# BUpicrust
Implementation of PiCrust2 for SCC.

Accepts outputs from QIIME2 DADA2, as generated by the [BU16s](https://github.com/Boston-University-Microbiome-Initiative/BU16s) pipeline.

PiCrust 2 documentation: https://github.com/picrust/picrust2/wiki/q2-picrust2-Tutorial

# Set up
Add an environment variable to your `~/.bashrc`. ONLY DO THIS ONCE!
```bash
echo "export BUpicrust=/projectnb/talbot-lab-data/msilver/BUpicrust" >> ~/.bashrc
source ~/.bashrc
```
See input arguments with `python create_inputs.py`

# Tutorial
First, complete the [BU16s](https://github.com/Boston-University-Microbiome-Initiative/BU16s) tutorial, at least through the DADA2 steps for generating ASVs.

Then create an input parameters file for BUpicrust with (this assumes you used `--output_dir $BU16s/test` for BU16s):
```bash
python $BUpicrust/create_inputs.py \
    --biom $BU16s/test/intermediate/dada2/table.qza \
    --seqs $BU16s/test/intermediate/dada2/representative_sequences.qza \
    --outdir $BU16s/test \
    --paramout TEST_INPUTS.sh
```

Your inputs file should look like [picrust_test.sh](picrust_test.sh) 

Then submit the batch job with:
```bash
qsub -P <BU PROJECT NAME> $BUpicrust/picrust.qsub picrust_test.sh
```